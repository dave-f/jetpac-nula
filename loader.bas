REM * Jet-Pac : NuLA refuel v1.3 *
REM Dave Footitt & Chris Hogg 2020
REM
MODE7
DIM REGS 4
A%=234
X%=0
Y%=0
!REGS = USR &FFF4
IF REGS?1 <> 0 PRINT '"Not compatible with TUBE":END
*FX200,3
VDU23,0,8,&30,0;0;0;
*FX9
*FX10
*FX151,32,16
*FX19
E%=FNTM
*FX151,34,68
*FX19
G%=FNTM
NULA%=E%/G%>0.75
IF NULA% GOTO 23 ELSE MODE7:PRINT '"No NuLA detected!"':GOTO 33
MODE2
VDU 23,1,0;0;0;
*FX4,1
PROCPAL
*LOAD JETFONT
*LOAD JETPIC
*LOAD JETLOGO
CALL &900
VDU 23,1,1;0;0;0;
COLOUR11:PRINTTAB(0,7)"     NuLA ReFuel"'':COLOUR 3
*FX15
INPUT "Lives (1-99)",LIVES%
PRINT "A/S keys (Y/N)?";
*FX15
A$=GET$
IF A$<>"Y" AND A$<>"y" AND A$<>"N" AND A$<>"n" GOTO 36
IF A$="Y" OR A$="y" THEN PRINT "Yes" ELSE PRINT "No"
?&70 = FNCLAMP(LIVES%)
IF A$="Y" OR A$="y" THEN ?&71=1 ELSE ?&71=0
IF NULA% ?&72=1 ELSE ?&72=0
IF NULA% ?&FE22=&40
MODE 7
PRINT "Loading..."
CLOSE #0
*RUN JetNula
END
DEFFNTM:LOCALI%,T%:TIME=0:FORI%=1TO5:*FX19
NEXT:T%=TIME:=T%
DEFFNCLAMP(N%):IF N%<1 THEN N%=1 ELSE IF N%>99 THEN N%=99
=N%
DEFPROCPAL
?&FE23=&00 : ?&FE23=&00
?&FE23=&19 : ?&FE23=&16
?&FE23=&2D : ?&FE23=&8C
?&FE23=&3C : ?&FE23=&CC
?&FE23=&43 : ?&FE23=&32
?&FE23=&5B : ?&FE23=&17
?&FE23=&6C : ?&FE23=&3B
?&FE23=&7D : ?&FE23=&6C
?&FE23=&8F : ?&FE23=&DF
?&FE23=&97 : ?&FE23=&15
?&FE23=&AB : ?&FE23=&10
?&FE23=&BC : ?&FE23=&61
?&FE23=&CE : ?&FE23=&A1
?&FE23=&DF : ?&FE23=&C5
?&FE23=&E0 : ?&FE23=&00
?&FE23=&F0 : ?&FE23=&00
ENDPROC
